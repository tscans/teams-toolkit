{{header}}

projectId: 00000000-0000-0000-0000-000000000000

environmentFolderPath: ./env

# Triggered when 'teamsfx provision' is executed
provision:
{{teamsAppCreate}}
{{botAadAppCreate}}
{{armDeploy}}
{{teamsAppUpdate}}

# Triggered when 'teamsfx deploy' is executed
deploy:
  - uses: cli/runNpmCommand
    name: install bot dependencies
    with:
      workingDirectory: bot
      args: install
  # Deploy your application to Azure Functions using the zip deploy feature.
  # For additional details, see at https://aka.ms/zip-deploy-to-azure-functions
  - uses: azureFunctions/zipDeploy
    with:
      workingDirectory: bot
      # Deploy base folder
      artifactFolder: .
      # Ignore file location, leave blank will ignore nothing
      ignoreFile: .funcignore
      # The resource id of the cloud resource to be deployed to. 
      # This key will be generated by arm/deploy action automatically. 
      # You can replace it with your existing Azure Resource id 
      # or add it to your environment variable file.
      resourceId: $\{{PROVISIONOUTPUT__AZUREWEBAPPBOTOUTPUT__WEBAPPRESOURCEID}}

# Triggered when 'teamsfx publish' is executed
publish:
{{teamsAppUpdate}}
{{teamsAppPublish}}